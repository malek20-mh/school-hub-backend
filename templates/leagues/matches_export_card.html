{% extends "base.html" %}
{% block title %}Ø¬Ø¯ÙˆÙ„ Ù…Ø¨Ø§Ø±ÙŠØ§Øª {{ league.name }} Ø§Ù„Ù…Ø®ØªØ§Ø±{% endblock %}

{% block content %}
<div class="container text-center mt-4">
    <button id="download-schedule-btn" class="btn btn-modern mb-4">ğŸ“¸ Ø­ÙØ¸ Ø§Ù„Ø¬Ø¯ÙˆÙ„ ÙƒØµÙˆØ±Ø©</button>
</div>

<div class="schedule-container" id="schedule-to-capture">
    
    <div class="schedule-header">
        <div class="league-title-wrapper">
            {% if league.logo %}
                <img src="{{ league.logo.url }}" alt="{{ league.name }} Logo" class="header-league-logo">
            {% endif %}
            <h2 class="header-title">Ø¬Ø¯ÙˆÙ„ Ù…Ø¨Ø§Ø±Ø§ÙŠØ§Øª Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„Ø§ÙˆÙ„Ù‰ <p class="league-name-sub">{{ league.name }}</p></h2>
        </div>
    </div>

    <div class="matches-grid">
        {% for match in matches %}
        <div class="match-grid-item">
            <div class="match-banner-strip">
                
                <div class="team-side team-right">
                    <h3 class="team-name">{{ match.team_a.name }}</h3>
                    <div class="team-logo-display">
                        {% if match.team_a.logo %}
                            <img src="{{ match.team_a.logo.url }}" alt="{{ match.team_a.name }}">
                        {% else %}
                            <span>?</span>
                        {% endif %}
                    </div>
                </div>

                <div class="match-center-info">
                    <div class="date-badge">{{ match.date|date:"Y/m/d" }}</div>
                    
                    <div class="score-display">
                        {% if match.goals_team_a is not None %}
                            <span class="score-num">{{ match.goals_team_a }}</span>
                            <span class="score-sep">:</span>
                            <span class="score-num">{{ match.goals_team_b }}</span>
                        {% else %}
                            <span class="vs-badge">VS</span>
                        {% endif %}
                    </div>

                    <div class="time-location">
                        <span> {{ match.date|time:"H:i" }}</span>
                        <span> {{ match.stadium }}</span>
                    </div>
                </div>

                <div class="team-side team-left">
                    <div class="team-logo-display">
                        {% if match.team_b.logo %}
                            <img src="{{ match.team_b.logo.url }}" alt="{{ match.team_b.name }}">
                        {% else %}
                            <span>?</span>
                        {% endif %}
                    </div>
                    <h3 class="team-name">{{ match.team_b.name }}</h3>
                </div>

            </div>
        </div>
        {% empty %}
            <p class="text-center text-white w-100">Ù„Ù… ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø£ÙŠ Ù…Ø¨Ø§Ø±ÙŠØ§Øª.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}