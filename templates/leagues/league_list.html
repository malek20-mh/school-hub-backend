{% extends "base.html" %}
{% block title %}Ø§Ù„Ø¯ÙˆØ±ÙŠØ§Øª{% endblock %}

{% block content %}
<div class="container card-3d" style="margin-top: 30px;">
    
    <h2>ğŸ† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¯ÙˆØ±ÙŠØ§Øª</h2>
    
    <a href="{% url 'league_create' %}" class="btn btn-modern mb-3">â• Ø¥Ù†Ø´Ø§Ø¡ Ø¯ÙˆØ±ÙŠ Ø¬Ø¯ÙŠØ¯</a>

    <div class="table-responsive">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ±ÙŠ</th>
                    <th>Ø§Ù„Ù…Ø§Ù„Ùƒ</th>
                    <th>Ø§Ù„Ù…ÙƒØ§Ù†</th>
                    <th>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡</th>
                    <th>Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                </tr>
            </thead>
            <tbody>
                {% for league in leagues %}
                <tr>
                    <td class="league-name-cell">
                        {% if league.logo %}
                            <img src="{{ league.logo.url }}" alt="{{ league.name }} logo" class="league-list-logo">
                        {% endif %}
                        <a href="{% url 'league_detail' league.id %}" class="table-link">{{ league.name }}</a>
                    </td>
                    <td>{{ league.owner.username }}</td>
                    <td>{{ league.location }}</td>
                    <td>{{ league.created_at|date:"Y-m-d" }}</td>
                    <td>
                        <a href="{% url 'league_update' league.id %}" class="btn btn-sm btn-modern btn-outline-yellow">ØªØ¹Ø¯ÙŠÙ„</a>
                        <a href="{% url 'league_delete' league.id %}" class="btn btn-sm btn-modern btn-outline-red">Ø­Ø°Ù</a>
                    </td>
                </tr>
                {% empty %}
                <tr><td colspan="5" style="text-align: center;">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¯ÙˆØ±ÙŠØ§Øª Ø¨Ø¹Ø¯.</td></tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
    /* 1. ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…ÙˆØ­Ø¯ */
    h2 {
        color: var(--phosphor-yellow, #CCFF00); 
        font-weight: bold;
        text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        position: relative;
        margin-bottom: 30px; 
    }
    h2:after {
        content: '';
        position: absolute;
        bottom: -10px;
        right: 0; 
        width: 80px;
        height: 4px;
        background: linear-gradient(90deg, var(--phosphor-yellow, #CCFF00), var(--phosphor-yellow, #CCFF00));
        border-radius: 2px;
    }

    /* 2. ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¯Ø§ÙƒÙ† */
    .table-responsive {
        overflow-x: auto;
    }
    .table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 15px;
    }
    .table-striped tbody tr:nth-of-type(odd) {
        background-color: rgba(255, 255, 255, 0.03); 
    }
    .table-hover tbody tr:hover {
        background-color: rgba(228, 255, 0, 0.1); 
        color: var(--phosphor-yellow, #e4ff00);
    }
    .table th, .table td {
        padding: 0.9rem 0.75rem;
        vertical-align: middle; 
        border-top: 1px solid rgba(255, 255, 255, 0.1); 
        text-align: right;
        white-space: nowrap; 
    }
    .table thead th {
        border-top: none;
        border-bottom: 2px solid var(--phosphor-yellow, #e4ff00);
        color: var(--phosphor-yellow, #e4ff00);
        font-weight: 600;
    }

    /* 3. ØªÙ†Ø³ÙŠÙ‚ Ø±Ø§Ø¨Ø· Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ±ÙŠ */
    .table-link {
        color: var(--white, #fff);
        text-decoration: none;
        font-weight: 500;
        transition: color 0.2s ease;
    }
    .table-link:hover {
        color: var(--phosphor-yellow, #e4ff00);
        text-decoration: underline;
    }

    /* â¬‡ï¸â¬‡ï¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù‡Ù†Ø§ â¬‡ï¸â¬‡ï¸ */
    /* 4. ØªÙ†Ø³ÙŠÙ‚ Ø®Ù„ÙŠØ© Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ±ÙŠ ÙˆØ§Ù„Ø´Ø¹Ø§Ø± */
    .league-name-cell {
        display: flex;
        align-items: center; /* â¬…ï¸ Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø§ØµÙŠØ© ØªØ¶Ù…Ù† Ø§Ù„ØªÙˆØ³ÙŠØ· Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠ Ù„Ù„Ø§Ø³Ù… Ø¨Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø´Ø¹Ø§Ø± */
        gap: 10px; 
    }
    .league-list-logo {
        width: 50px;  
        height: 50px; 
        object-fit: cover;
        border-radius: 4px;
        border: 1px solid var(--gray, #cebe08);
        flex-shrink: 0; 
    }
    /* â¬†ï¸â¬†ï¸ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ â¬†ï¸â¬†ï¸ */

    /* 5. ØªÙ†Ø³ÙŠÙ‚ Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª */
    .btn-outline-yellow {
        background: transparent;
        color: var(--phosphor-yellow, #e4ff00);
        border: 2px solid var(--phosphor-yellow, #e4ff00);
        box-shadow: none;
    }
    .btn-outline-yellow:hover {
        background: var(--phosphor-yellow, #e4ff00);
        color: var(--dark-black, #111);
        box-shadow: 0 5px 15px rgba(228, 255, 0, 0.3);
    }
    .btn-outline-red {
        background: transparent;
        color: #ff4d4d;
        border: 2px solid #ff4d4d;
        box-shadow: none;
    }
    .btn-outline-red:hover {
        background: #ff4d4d;
        color: #fff;
        box-shadow: 0 5px 15px rgba(255, 77, 77, 0.3);
    }
</style>
{% endblock %}

{% block extra_js %}
<script>
// Ù„Ø§ Ø­Ø§Ø¬Ø© Ù„Ø³ÙƒØ±ÙŠØ¨Øª Ù‡Ù†Ø§ØŒ Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ base.html
</script>
{% endblock %}